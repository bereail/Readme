{"ast":null,"code":"import React,{useEffect,useState}from'react';import{obtenerLecturas}from'../../api/libros';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MisLecturas=()=>{const[lecturas,setLecturas]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchLecturas=async()=>{try{const data=await obtenerLecturas();setLecturas(data);}catch(error){console.error(\"Error al cargar lecturas\",error);}};fetchLecturas();},[]);const handleEditar=lectura=>{localStorage.setItem('lectura_a_editar',JSON.stringify(lectura));navigate(`/editar-lectura/${lectura.id}`);};const handleVer=lectura=>{localStorage.setItem('lectura_a_ver',JSON.stringify(lectura));navigate(`/ver-lectura/${lectura.id}`);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCDA Mis lecturas\"}),lecturas.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No hay lecturas guardadas.\"}):/*#__PURE__*/_jsx(\"ul\",{children:lecturas.map(lectura=>{var _lectura$puntaje,_lectura$comentario;return/*#__PURE__*/_jsxs(\"li\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:lectura.imagen_url,alt:lectura.titulo,width:100}),/*#__PURE__*/_jsx(\"h4\",{children:lectura.titulo}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Autor: \",lectura.autor]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Puntaje: \",(_lectura$puntaje=lectura.puntaje)!==null&&_lectura$puntaje!==void 0?_lectura$puntaje:'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Comentario: \",(_lectura$comentario=lectura.comentario)!==null&&_lectura$comentario!==void 0?_lectura$comentario:'Sin comentarios']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Le\\xEDdo por: \",lectura.usuario]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info me-2\",onClick:()=>handleVer(lectura),children:\"\\uD83D\\uDC41\\uFE0F Ver\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:()=>handleEditar(lectura),children:\"\\u270F\\uFE0F Editar\"}),/*#__PURE__*/_jsx(\"hr\",{})]},lectura.id);})})]});};export default MisLecturas;","map":{"version":3,"names":["React","useEffect","useState","obtenerLecturas","useNavigate","jsx","_jsx","jsxs","_jsxs","MisLecturas","lecturas","setLecturas","navigate","fetchLecturas","data","error","console","handleEditar","lectura","localStorage","setItem","JSON","stringify","id","handleVer","children","length","map","_lectura$puntaje","_lectura$comentario","className","src","imagen_url","alt","titulo","width","autor","puntaje","comentario","usuario","onClick"],"sources":["D:/Bere/GIT/readme/front/src/components/books/MisLecturas.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { obtenerLecturas } from '../../api/libros';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst MisLecturas = () => {\r\n  const [lecturas, setLecturas] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchLecturas = async () => {\r\n      try {\r\n        const data = await obtenerLecturas();\r\n        setLecturas(data);\r\n      } catch (error) {\r\n        console.error(\"Error al cargar lecturas\", error);\r\n      }\r\n    };\r\n\r\n    fetchLecturas();\r\n  }, []);\r\n\r\n  const handleEditar = (lectura) => {\r\n    localStorage.setItem('lectura_a_editar', JSON.stringify(lectura));\r\n    navigate(`/editar-lectura/${lectura.id}`);\r\n  };\r\n\r\n  const handleVer = (lectura) => {\r\n    localStorage.setItem('lectura_a_ver', JSON.stringify(lectura));\r\n    navigate(`/ver-lectura/${lectura.id}`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>üìö Mis lecturas</h2>\r\n      {lecturas.length === 0 ? (\r\n        <p>No hay lecturas guardadas.</p>\r\n      ) : (\r\n        <ul>\r\n          {lecturas.map((lectura) => (\r\n            <li key={lectura.id} className=\"mb-4\">\r\n              <img src={lectura.imagen_url} alt={lectura.titulo} width={100} />\r\n              <h4>{lectura.titulo}</h4>\r\n              <p>Autor: {lectura.autor}</p>\r\n              <p>Puntaje: {lectura.puntaje ?? 'N/A'}</p>\r\n              <p>Comentario: {lectura.comentario ?? 'Sin comentarios'}</p>\r\n              <p>Le√≠do por: {lectura.usuario}</p>\r\n              <button className=\"btn btn-info me-2\" onClick={() => handleVer(lectura)}>üëÅÔ∏è Ver</button>\r\n              <button className=\"btn btn-warning\" onClick={() => handleEditar(lectura)}>‚úèÔ∏è Editar</button>\r\n              <hr />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MisLecturas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}